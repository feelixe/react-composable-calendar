import { markdownComponents } from "@/components/markdown/components";
import { CodeBlock } from "@/components/ui/code-block.tsx"
import { Separator } from "@/components/ui/separator";
import { ExternalLink } from "@/components/ui/external-link";
import * as codeExamples from "@/examples/code-examples";

export const components = markdownComponents;

## Guides

### Timezone
To change the timezone of the calendar, pass a time to the prop `timezone` on the `CalendarPrimitive.Root`.
A list of valid timezones can be found in the <ExternalLink href="https://www.iana.org/time-zones" text="IANA Database" />.

#### Notes
- When using a controlled state or passing a `defaultValue`, ensure the date provided is set to the same timezone.
<CodeBlock client:load code={codeExamples.timezone} />

## As Form Input
To use the calendar as a uncontrolled input field, make sure you render the `CalendarPrimitive.FormInput` somewhere inside the root.
Then all you need to do is pass a name for the form input. (If in `range` mode you need to pass two names)
<CodeBlock client:load code={codeExamples.formInput} />

## Components

### CalendarPrimitive.Root
The Root component is the foundational wrapper for the calendar. It manages the calendar's state,
including the current view, selected date(s), and mode (single or range). It also provides context
to its child components, allowing them to access and modify the calendar's state.

#### Notes
- The Root component is designed to be flexible, supporting both controlled and uncontrolled usage.
- It ensures proper synchronization between the internal state and external props, even when the mode changes dynamically.

<Separator className="my-8" />

### CalendarPrimitive.Weekdays
The Weekdays component is responsible for rendering the weekday labels (e.g., Monday, Tuesday, etc.) in
the calendar. It wraps each weekday label in a WeekdayContext.Provider, allowing child components to
access the current weekday index. This component is designed to work with a single child element, which is
cloned for each weekday.
#### Notes
- The Weekdays component expects a single child element, which is cloned for each weekday (7 times in total).
- It uses WeekdayContext.Provider to provide the weekdayIndex to its children, enabling dynamic rendering based on the weekday.
- This component is typically used as part of a larger calendar layout to display the days of the week.

<Separator className="my-8" />

### CalendarPrimitive.WeekdayLabel
The WeekdayLabel component is used to display the name of a weekday (e.g., "Monday", "Tuesday")
within the calendar. It retrieves the current weekday index from the WeekdayContext and
uses a provided or default function (getWeekdayName) to determine the display name for
the weekday. This component is designed to be flexible, allowing customization of weekday
names through the getWeekdayName prop.

#### Notes
- The component relies on the WeekdayContext to access the current weekdayIndex.
- By default, it uses getDefaultWeekdayName to determine the weekday name, but this can be overridden with a custom getWeekdayName function.
